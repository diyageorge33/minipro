<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title><%= title %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        min-height: 100vh;
        margin: 0;
        background: radial-gradient(circle at top left, #1e293b, #020617);
        color: #e5e7eb;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      }

      .app-navbar {
        backdrop-filter: blur(16px);
        background: rgba(15, 23, 42, 0.95);
        border-bottom: 1px solid rgba(148, 163, 184, 0.4);
      }

      .app-navbar .brand {
        font-weight: 700;
        letter-spacing: 0.05em;
      }

      .main-wrap {
        padding: 2.5rem 4vw;
      }

      .dashboard-shell {
        width: 100%;
        background: rgba(15, 23, 42, 0.95);
        border-radius: 24px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        box-shadow: 0 24px 60px rgba(15, 23, 42, 0.9);
        padding: 2.5rem 2rem;
      }

      .section-title {
        font-weight: 700;
      }

      .pill-status {
        border-radius: 999px;
        padding: 0.15rem 0.75rem;
        font-size: 0.8rem;
      }

      .info-card {
        border-radius: 18px;
        background: #020617;
        border: 1px solid rgba(75, 85, 99, 0.8);
        height: 100%;
      }

      .info-card p {
        margin-bottom: 0.35rem;
      }

      code {
        font-size: 0.8rem;
      }

      @media (max-width: 768px) {
        .dashboard-shell {
          padding: 1.5rem 1.25rem;
          border-radius: 18px;
        }

        .main-wrap {
          padding: 1.5rem 1.25rem;
        }
      }
    </style>
  </head>

  <body>
    <!-- Top Navbar -->
    <nav class="navbar navbar-dark app-navbar px-3 px-md-5">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1 brand">
          Secure User Portal
        </span>

        <div class="d-flex align-items-center gap-3">
          <small class="text-secondary d-none d-sm-inline">
            Logged in as <strong><%= email %></strong>
          </small>

          <form action="/logout" method="POST" class="m-0">
            <button type="submit" class="btn btn-outline-light btn-sm rounded-pill px-3">
              Logout
            </button>
          </form>
        </div>
      </div>
    </nav>

    <!-- Main content -->
    <main class="main-wrap">
      <div class="dashboard-shell mx-auto">
        <div class="d-flex flex-wrap justify-content-between align-items-start gap-2 mb-3">
          <div>
            <div class="badge bg-primary-subtle text-primary pill-status mb-2">
              Authenticated Area
            </div>
            <h2 class="section-title mb-2">User Dashboard</h2>
          </div>

          <div class="text-end small text-secondary">
            <div>Database: <strong>PostgreSQL</strong></div>
          </div>
        </div>

        <p class="text-secondary mb-4">
          You have successfully logged in to the system. This page is only visible to authenticated
          users.
        </p>

        <div class="row g-4 mb-2">
          <div class="col-md-6">
            <div class="info-card p-3 p-md-4">
              <h5 class="fw-semibold mb-3">Account Overview</h5>
              <p>Email: <strong><%= email %></strong></p>
              <p>Status: <span class="text-success fw-semibold">Active</span></p>
              <p class="text-secondary">
                This record is stored in the <code>users</code> table in PostgreSQL.
              </p>
            </div>
          </div>

          <div class="col-md-6">
            <div class="info-card p-3 p-md-4">
              <h5 class="fw-semibold mb-3">Implementation Summary</h5>
              <p class="text-secondary">
                • Frontend: React (Vite) login & signup forms<br />
                • Backend: Node.js + Express REST API<br />
                • Security: Hashed passwords using <code>bcrypt</code><br />
                • Auth flow: <code>passport-local</code> with sessions<br />
              </p>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    ></script>
  </body>
</html>
